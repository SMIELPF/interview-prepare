## 背景
前端应用越滚越大，成为巨石应用，对于巨型前端项目，希望能像后端的微服务架构一样，将前端拆分为一个又一个的微应用，各个微应用在开发时能够由不同团队独立开发，独立部署，而在浏览器上运行时，各个微应用之间又能以某种机制进行通信和交换数据。
obvious及其衍生的react-obvious、omicro-cli、feda就是我回答微前端这个议题的一个答案

## 要解决的问题和解决思路
- **Q:** 各个微应用之间如何通信？
  **A:** obvious内部实现了一个event-emitter，不同微应用只需约定好事件，然后基于事件进行通信。同时在对event-emitter进行了简单封装后，obvious提供一套状态api，暴露了对状态的读、写、监听能力，不同微应用也可以通过读、写、监听同一个状态进行通信

- **Q:** 各个不同团队单独开发、维护、部署的代码在跑在同一个window下，如何避免全局变量冲突和样式冲突？
  **A:** 应对全局变量冲突：把全局变量转为obvious状态进行管理，如果只是微应用内部自己要用的全局变量，不希望别的微应用能更改，可以把状态声明为微应用私有状态
  应对样式冲突：在脚手架omicro-cli中，配置了css-module

- **Q:** 怎么控制不同应用之间的依赖关系？
  **A:** 在做项目架构时，应该配置一个主应用，用来拉起入口应用，各个子应用也可以在自己的代码中去拉起别的微应用。一个微应用本身不知道自己在什么时候被谁拉起，也不知道自己被拉起时其依赖的微应用是否已经提前准备好了，为了确保依赖的有序性，obvious在创建微应用时，可以让开发者配置该微应用依赖的状态